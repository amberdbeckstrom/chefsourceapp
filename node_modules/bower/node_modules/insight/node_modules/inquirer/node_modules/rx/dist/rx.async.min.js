(function(t){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},n=e[typeof window]&&window||this,r=e[typeof exports]&&exports&&!exports.nodeType&&exports,i=e[typeof module]&&module&&!module.nodeType&&module,o=(i&&i.exports===r&&r,e[typeof global]&&global);!o||o.global!==o&&o.window!==o||(n=o),"function"==typeof define&&define.amd?define(["rx.binding","exports"],function(e,r){return n.Rx=t(n,r,e),n.Rx}):"object"==typeof module&&module&&module.exports===r?module.exports=t(n,module.exports,require("./rx")):n.Rx=t(n,{},n.Rx)}).call(this,function(t,e,n){function r(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),h(function(){t.removeEventListener(e,n,!1)});throw Error("No listener found")}function i(t,e,n){var o=new f;if("[object NodeList]"===Object.prototype.toString.call(t))for(var s=0,u=t.length;u>s;s++)o.add(i(t.item(s),e,n));else t&&o.add(r(t,e,n));return o}var o=n.Observable,s=(o.prototype,o.fromPromise),u=o.throwException,c=n.AnonymousObservable,a=n.AsyncSubject,h=n.Disposable.create,f=n.CompositeDisposable,l=(n.Scheduler.immediate,n.Scheduler.timeout),p=n.helpers.isScheduler,d=Array.prototype.slice;o.start=function(t,e,n){return b(t,e,n)()};var b=o.toAsync=function(t,e,n){return p(n)||(n=l),function(){var r=arguments,i=new a;return n.schedule(function(){var n;try{n=t.apply(e,r)}catch(o){return i.onError(o),undefined}i.onNext(n),i.onCompleted()}),i.asObservable()}};o.fromCallback=function(t,e,n){return function(){var r=d.call(arguments,0);return new c(function(i){function o(t){var e=t;if(n){try{e=n(arguments)}catch(r){return i.onError(r),undefined}i.onNext(e)}else 1>=e.length?i.onNext.apply(i,e):i.onNext(e);i.onCompleted()}r.push(o),t.apply(e,r)})}},o.fromNodeCallback=function(t,e,n){return function(){var r=d.call(arguments,0);return new c(function(i){function o(t){if(t)return i.onError(t),undefined;var e=d.call(arguments,1);if(n){try{e=n(e)}catch(r){return i.onError(r),undefined}i.onNext(e)}else 1>=e.length?i.onNext.apply(i,e):i.onNext(e);i.onCompleted()}r.push(o),t.apply(e,r)})}},n.config.useNativeEvents=!1;var v=t.angular&&angular.element?angular.element:t.jQuery?t.jQuery:t.Zepto?t.Zepto:null,m=!!t.Ember&&"function"==typeof t.Ember.addListener,y=!!t.Backbone&&!!t.Backbone.Marionette;o.fromEvent=function(t,e,r){if(t.addListener)return w(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},r);if(!n.config.useNativeEvents){if(y)return w(function(n){t.on(e,n)},function(n){t.off(e,n)},r);if(m)return w(function(n){Ember.addListener(t,e,n)},function(n){Ember.removeListener(t,e,n)},r);if(v){var o=v(t);return w(function(t){o.on(e,t)},function(t){o.off(e,t)},r)}}return new c(function(n){return i(t,e,function(t){var e=t;if(r)try{e=r(arguments)}catch(i){return n.onError(i),undefined}n.onNext(e)})}).publish().refCount()};var w=o.fromEventPattern=function(t,e,n){return new c(function(r){function i(t){var e=t;if(n)try{e=n(arguments)}catch(i){return r.onError(i),undefined}r.onNext(e)}var o=t(i);return h(function(){e&&e(i,o)})}).publish().refCount()};return o.startAsync=function(t){var e;try{e=t()}catch(n){return u(n)}return s(e)},n});